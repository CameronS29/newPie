function RemoveArrayItems(n,t){for(var i=0;i<n.length;)n[i]==t?n.splice(i,1):i++;return n}function SelectItem(n){var t=n.value;n.checked?iArray.push(t):iArray=RemoveArrayItems(iArray,t);$("#gCartArray").val(iArray);$("#ProdSelectCnt").html("["+iArray.length+"]");iArray.length>=1?$("#processBtn").removeClass("btn-dark").addClass("btn-success"):$("#processBtn").removeClass("btn-success").addClass("btn-dark")}function checkOpen(){$("input[name='remchecked']").each(function(){this.click()})}function ProcessChecked(n){if(iArray.length>=1){var t=$("#gCartArray").val();n==1&&confirm("Set selected orders to DELIVERED status?")&&Dashboard.BatchProcess(t,myname,BatchProcessCallback);n==0&&confirm("Set selected orders to CANCEL status?")&&Dashboard.BatchProcessCancel(t,myname,BatchProcessCallback)}}function BatchProcessCallback(n){if(n.value==null||n.error!=null)ShowAutoAlert("Batch Process Error",GetResError(n.error)+" - "+n.value,"error",!0);else{var r=n.value,t=r.split("|"),u=t[0],i=t[1];u==0?(ShowAutoAlert("Batch Processed",i,"success",!0),RefreshDashboardList(),$("#processBtn").removeClass("btn-success").addClass("btn-dark"),iArray=[]):ShowAutoAlert("Batch Process Error",i,"error",!0)}}function RefreshDashboardList(){var n=Dashboard.PendingOrdersList().value;$("#OrderTable").html(n)}function AdminLogin(){var n=$("#Username").val(),t=$("#MyPassword").val();Admin.ProcessLogin(n,t,DoLoginCallback)}function AdminLoginCallback(n){var u=n.value,i=u.split("|"),r=i[0],t=i[1];n.value==null||n.error!=null?ShowAutoAlert("Login Error",n.error.Message,"error",!0):r==1?ShowAutoAlert("Login Error",t,"error",!0):r==0?location.href=t:ShowAutoAlert("Login Error",t,"error",!0)}function SaveLogin(){var n=$("#Username").val(),t=$("#MyPassword").val();storage.set("pgamyusername",n);storage.set("pgamypassword",t);ShowAutoAlert("Login Info","Your login information has been saved successfully...","success",!0)}function CheckSavedInfo(){storage&&($("#Username").val(storage.get("pgamyusername")),$("#MyPassword").val(storage.get("pgamypassword")))}function GetHTMLText(){var n=oUtil.obj;return n.getXHTMLBody()}function SetHTMLText(n){var t=oUtil.obj;t.focus();t.insertHTML(n)}function SavePage(){var n=GetHTMLText(),t=GetMyElement("PageLoadType");Specials.SaveFileToServer(n,t,SavePageCallback)}function SavePageCallback(n){var u=n.value,t=u.split("|"),i=t[0],r=t[1];n.value==null||n.error!=null?ShowAutoAlert("Page Save Error",n.error.Message,"error",!0):i==1?ShowAutoAlert("Page Save Error",r,"error",!0):i==0?ShowAutoAlert("Page Saved","Page saved successfully!","success",!0):ShowAutoAlert("Page Save Error",r,"error",!0)}function EditCustomer(n){$("#CustomerForm").modal("show");SetMyElement("CustomerID",n);GlobalAjax.Getcustomers(n,FillCustomerCallback)}function FillCustomerCallback(n){var i,t;if(n.value==null||n.error!=null)return!1;i=n.value.Tables[0].Rows.length;i>=1&&(t=n.value.Tables[0].Rows[0],SetMyElement("title",escapeNull(t.title,"")),SetMyElement("company",escapeNull(t.company,"")),SetMyElement("first_name",escapeNull(t.first_name,"")),SetMyElement("last_name",escapeNull(t.last_name,"")),SetMyElement("address1",escapeNull(t.address1,"")),SetMyElement("city",escapeNull(t.city,"")),SetMyElement("state",escapeNull(t.state,"")),SetMyElement("zip",escapeNull(t.zip,"")),SetMyElement("email",escapeNull(t.email,"")),SetMyElement("password",escapeNull(t.password,"")),SetMyElement("home_phone",escapeNull(t.home_phone,"")),SetMyElement("mobile_phone",escapeNull(t.mobile_phone,"")),SetMyHTML("date_row","Created: "+t.create_date+":"+escapeNull(t.create_user,"")+" | Modified: "+escapeNull(t.mod_date,"")+":"+escapeNull(t.mod_user,"")))}function Validate_customers(){for(var n,t=!0,r=["first_name","last_name","email","password"],i=0;i<r.length;i++)n=document.getElementById(r[i]),val=n.value,val==""?(n.style.backgroundColor="#FFFF00",t=!1):n.style.backgroundColor="";return t||ShowAutoAlert("Form Validation","Please complete hi-lighted fields before saving...","warning",!0),t}function SaveMyAccount(){if(Validate_customers()){var n=GlobalAjax.GetcustomersClass().value;n.customerID=customerid;n.company=GetMyElement("company");n.title=GetMyElement("title");n.first_name=GetMyElement("first_name");n.last_name=GetMyElement("last_name");n.address1=GetMyElement("address1");n.address2=GetMyElement("address2");n.city=GetMyElement("city");n.state=GetMyElement("state");n.zip=GetMyElement("zip");n.email=GetMyElement("email");n.home_phone=GetMyElement("home_phone");n.mobile_phone=GetMyElement("mobile_phone");n.username=GetMyElement("username");n.password=GetMyElement("password");n.create_user=myemail;GlobalAjax.ProcessCustomersOnline(n,SavecustomersCallback)}}function SaveAdminAccount(){if(Validate_customers()){var n=GlobalAjax.GetcustomersClass().value;n.customerID=GetMyElement("CustomerID");n.company=GetMyElement("company");n.title=GetMyElement("title");n.first_name=GetMyElement("first_name");n.last_name=GetMyElement("last_name");n.address1=GetMyElement("address1");n.address2=GetMyElement("address2");n.city=GetMyElement("city");n.state=GetMyElement("state");n.zip=GetMyElement("zip");n.email=GetMyElement("email");n.home_phone=GetMyElement("home_phone");n.mobile_phone=GetMyElement("mobile_phone");n.username=GetMyElement("username");n.password=GetMyElement("password");n.create_user=myemail;GlobalAjax.ProcessCustomersOnline(n,SavecustomersCallback)}}function SavecustomersCallback(n){if(n.value==null||n.error!=null)ShowAutoAlert("Save Error",GetResError(n.error)+" - "+n.value,"error",!0);else{var r=n.value,t=r.split("|"),u=t[0],i=t[1];u==0?ShowAutoAlert("Account Saved",i,"success",!0):ShowAutoAlert("Account Save Error",i,"error",!0)}}function PrintCart(){$.print("#CartDetailForm")}function PrintCartItem(n){$("#CartDetailForm").modal("show");var t=Dashboard.BuildCartItem(n).value;$("#CartPrintForm").html(t)}function PrintCartItemSearch(n){$("#CartDetailForm").modal("show");var t=SearchOrders.BuildCartItem(n).value;$("#CartPrintForm").html(t)}function GoToSearchOrders(){location.href="SearchOrders.aspx"}function DoSearchOrders(){var t=document.getElementById("processBtn3"),n;t.disabled=!0;n=SearchOrders.GetSearchClass().value;n.LastName=$("#sCustomerLastName").val();n.SearchCity=$("#sCity").val();n.SearchState=$("#sState").val();n.SearchStatus=$("#sStatus").val();n.SearchDate1=$("#sDate1").val();n.SearchDate2=$("#sDate2").val();SearchOrders.SearchOrdersList(n,SearchListCallback)}function SearchListCallback(n){var r=document.getElementById("processBtn3");if(n.value==null||n.error!=null)$("#OrderSearchTable").html("<div class='error'>"+n.error+"<\/div>");else{var u=n.value,t=u.split("|"),f=t[0],i=t[1];f==0?$("#OrderSearchTable").html(i):$("#OrderSearchTable").html("<div class='error'>"+i+"<\/div>")}r.disabled=!1}var storage=$.localStorage,iArray;$(document).ready(function(){CheckSavedInfo();$("#sDate1").datepicker();$("#sDate2").datepicker()});iArray=[];